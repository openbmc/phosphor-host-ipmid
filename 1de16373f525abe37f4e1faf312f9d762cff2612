{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "785b303d_ef8e2b80",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000163
      },
      "writtenOn": "2022-01-05T22:33:06Z",
      "side": 1,
      "message": "This seems like a hack on top of a hack. I would prefer that we could get an \u0027ipmi-compatible\u0027 version of the name from entity manager. Otherwise, I think we should just truncate to the max len. Then vendors could put their preferred string in the config file and it would just show up.",
      "revId": "1de16373f525abe37f4e1faf312f9d762cff2612",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4e01b52d_9d6421b0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000926
      },
      "writtenOn": "2022-01-10T10:02:52Z",
      "side": 1,
      "message": "I want to point out, that this code was here before the recent change: \n48004: dbus-sdr: Remove suffixs appended by dbus-sensors | https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-host-ipmid/+/48004\nThis change has introduced a bug, and the current patchset is trying to fix it.\n\nIt is possible to set custom name for the PSU with the `EM`+`dbus-sensors`. But nevertheless for each sensor label in the PSU the `dbus-sensors` app would add corresponding suffix to the sensor dbus path.\nhttps://github.com/openbmc/dbus-sensors/blob/master/src/PSUSensorMain.cpp#L955\nWe need this suffix to differentiate sensors. Its length is fine for Redfish or webui, but in case of IPMI we clearly need to make it more short.\n\nIt doesn\u0027t look like it would be possible to set custom name for each label inside PSU anytime soon. It would require considerable rewrite of the PSUsensor app from the dbus-sensors. Also as I understand it, EM maintainers are against of putting protocol specific (e.g. IPMI in this case) information to the EM config. So it looks like custom IPMI name wouldn\u0027t be a EM JSON property anytime soon either.",
      "parentUuid": "785b303d_ef8e2b80",
      "revId": "1de16373f525abe37f4e1faf312f9d762cff2612",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "865eb13d_5dd0a4d4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000934
      },
      "writtenOn": "2022-01-11T02:13:48Z",
      "side": 1,
      "message": "IMO, the property \"Name\" in Entity-Manager is to defined what string we want to see in command like \"ipmitool sensor\". I pushed the PR 48004 is because PSUSensor add the suffix automatically which make the result of ipmitool command does not meet our expectation.\nFor example, we have a sensor have \"Name\": hotswap_in in Entity-Manager and we don\u0027t want to see any suffix in command \"ipmitool sensor\".\n\nI\u0027m afraid that someone prefer suffix \"_Input\"/\"_input\"/\"_in\" rather than \"_In\" or even there is someone don\u0027t want to add any suffix.\n\nIf you want to mark the input or output, you can try to add \"iin_Name\": \"P0_VDD_SOC_In\" and \"iou1_Name\": \"P0_VDD_SOC_Out\" in your entity-manager configuration.",
      "parentUuid": "4e01b52d_9d6421b0",
      "revId": "1de16373f525abe37f4e1faf312f9d762cff2612",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "319a8d8d_9780bae8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000926
      },
      "writtenOn": "2022-01-11T17:08:45Z",
      "side": 1,
      "message": "Keep in mind that only IPMI has a limitation of 16 symbols per name.\nBut if you change EM \"Name\" key, it would change output of webui/Redfish also. And these services are fine with long names like `P0_VDD_SOC_Input_Current`.\nMy point is that truncating everything to adapt to IPMI limitations is not very good.",
      "parentUuid": "865eb13d_5dd0a4d4",
      "revId": "1de16373f525abe37f4e1faf312f9d762cff2612",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}