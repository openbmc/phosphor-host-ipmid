{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "289d50ee_4e6f2e02",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001198
      },
      "writtenOn": "2023-01-31T08:05:41Z",
      "side": 1,
      "message": "Hi @all,\n\nAfter the commit https://github.com/openbmc/phosphor-dbus-interfaces/commit/197705962bf99000168c993ab9ac4c69847b384d, the type of \"DHCPEnabled\" property has been changed from bool to DHCPConf type. Therefore, I updated the return type of getDHCPEnabled function.\n\nPlease help me review this patch.",
      "revId": "3d56aa5fdb6a43489dff3431aaa1f00dac1cdde2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f74734af_a124859f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001198
      },
      "writtenOn": "2023-02-01T07:03:37Z",
      "side": 1,
      "message": "Hi @Johnathan,\n\nIt seems that the data type of DHCPEnabled property has been changed from boolean to enum DHCPConf by your commit (https://github.com/openbmc/phosphor-dbus-interfaces/commit/197705962bf99000168c993ab9ac4c69847b384d).\n\nCan you help me to review this patch?\n\nThanks.",
      "revId": "3d56aa5fdb6a43489dff3431aaa1f00dac1cdde2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "efe9d682_1cece7d4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000278
      },
      "writtenOn": "2023-02-01T22:38:50Z",
      "side": 1,
      "message": "I do not believe the new enum style controls are actually being used.\nphosphor-network was modified to stop using those values.\nbmcweb has never enabled them.\nphoshpor-ipmi-host also never completed the transition.\nNothing is using the enumeration.\nphosphor-network relies on\nDHCP4\nDHCP6\nIPv6AcceptRA\n\nI don\u0027t agree with that decision as it creates odd side effects.\n\nYour change here will not do what you think due to the enumeration contract going unused.",
      "revId": "3d56aa5fdb6a43489dff3431aaa1f00dac1cdde2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cd685bda_3ee7ee2b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001198
      },
      "writtenOn": "2023-02-02T02:05:04Z",
      "side": 1,
      "message": "In the phosphor-host-ipmid, it did not change the value of DHCPEnabled property. It only checks DHCPEnabled property to ensure that DHCP feature has been enabled or not. It did not reset or enable DHCP.\n\nIn the old implementation, it checks that DHCPEnabled\u003d\u003dtrue or not. But in my patch, I checked that DHCPEnabled!\u003dNone or not. Therefore, I think this change is necessary.",
      "parentUuid": "efe9d682_1cece7d4",
      "revId": "3d56aa5fdb6a43489dff3431aaa1f00dac1cdde2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "252dd7d3_8dbe913e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000278
      },
      "writtenOn": "2023-02-02T16:01:16Z",
      "side": 1,
      "message": "It\u0027s been a long time since I made the DHCPConf code changes. I forgot some of that was accepted and merged. I have another commit that has additional functionality that has been rejected by one of the maintainers of phosphor-network. That was the basis of my prior comments.\n\nThat said I do have an enclosed comment concerning what is supposed to happen vis-a-vis IPv6 with regard to your change.",
      "revId": "3d56aa5fdb6a43489dff3431aaa1f00dac1cdde2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4de5903e_eed97d3d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001198
      },
      "writtenOn": "2023-02-09T02:50:27Z",
      "side": 1,
      "message": "DO you have any comment @Johnathan?",
      "revId": "3d56aa5fdb6a43489dff3431aaa1f00dac1cdde2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b298eed8_f2d25652",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000278
      },
      "writtenOn": "2023-02-10T15:44:54Z",
      "side": 1,
      "message": "I have no additional comments.",
      "revId": "3d56aa5fdb6a43489dff3431aaa1f00dac1cdde2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "59de659b_f4fe4e93",
        "filename": "dcmihandler.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1058,
      "author": {
        "id": 1000278
      },
      "writtenOn": "2023-02-02T16:01:16Z",
      "side": 1,
      "message": "I expect this requires additional investigation. In the past getDHCPEnabled() was true only for IPv4. The previous code did not check DHCPv4 enabled vs DHCPv6 enabled.\nTo maintain the original code behavior this needs to be more selective:\nEthernetIntf::DHCPConf dhcpMode \u003d getDHCPEnabled();\n\nif (( ....... \u0026\u0026\n    ((dhcpMode \u003d\u003d both) || (dhcpMode \u003d\u003d ipv4)))\n    \nI don\u0027t believe IPv6 is expected to be tested here.\n\nIt\u0027s really hard to know what the correct solution is supposed to be in IPMI land. What does it mean for \"DHCP enabled\" to encompass?\nTraditionally Get LAN Config IP Address Source was enough to know.\nNow with IPv6 more prominant we have to take into account Get LAN Config IPv6 Router Address Config too.\n\nI\u0027m not sufficiently versed in the DCMI code to provide guidance.",
      "revId": "3d56aa5fdb6a43489dff3431aaa1f00dac1cdde2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5968ff32_6fadd196",
        "filename": "dcmihandler.cpp",
        "patchSetId": 1
      },
      "lineNbr": 1058,
      "author": {
        "id": 1001198
      },
      "writtenOn": "2023-02-06T03:40:28Z",
      "side": 1,
      "message": "The \"ipmitool dcmi set_conf_param activate_dhcp\" command is used to reset/enable DHCP feature, it does not mention about DHCPv4 or DHCPv6. DHCP feature has been enabled when the \"DHCPEnabled \" property has been configured.\n\nI think that phosphor-host-ipmid shouldn\u0027t care about DHCPv4 or DHCPv6. It only cares whether this is DHCP or not. Therefore, ipmid only needs to check DHCP feature is enabled or not.\n\nIPv6 should be taken care of by another module (maybe is phosphor-network), not by ipmid.",
      "parentUuid": "59de659b_f4fe4e93",
      "revId": "3d56aa5fdb6a43489dff3431aaa1f00dac1cdde2",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}