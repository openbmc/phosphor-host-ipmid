{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "98771876_fa239edd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000278
      },
      "writtenOn": "2022-11-29T22:21:23Z",
      "side": 1,
      "message": "The early exit prevents an accurate count of the active IPMI sessions.\nI was unable to detect any issue with regard to the SOL behavior.\n\u0027ipmitool sol activate\u0027 and \u0027ipmitool shell\u0027 all worked as expected without the early exit. The \u0027ipmitool session info all` command and the \u0027ipmitool raw 6 0x3d 0\u0027 commands also function correctly once this commit is reverted.",
      "revId": "522882304d1baaa70d677a4f09d45daad68cce5b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7b9d4240_4ea52c22",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000899
      },
      "writtenOn": "2022-11-30T00:48:44Z",
      "side": 1,
      "message": "Have you test ipmitool session info all after ipmitool sol activate?",
      "revId": "522882304d1baaa70d677a4f09d45daad68cce5b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f9d6dc58_acace6a2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000278
      },
      "writtenOn": "2022-11-30T14:57:07Z",
      "side": 1,
      "message": "I did perform the \"Tested\" steps from the commit message. I was unable to determine if the issue the commit was supposed to fix reappeared. Neither the fail, or success, case was was described in the commit message sufficiently to know.\n\nI tested \u0027ipmitool sol activate\u0027 and the session info displayed the new ipmi session created by \u0027sol activate\u0027. I also added \u0027ipmitool shell\u0027 sessions, and each increased the session info list by one. As each was terminated the shell info list decreased.\n\nI also reviewed \u0027ipmitool raw 6 0x3d 0\u0027 commands as sol/shell items came and went. The count of active sessions matched for each LAN session created/destroyed.",
      "parentUuid": "7b9d4240_4ea52c22",
      "revId": "522882304d1baaa70d677a4f09d45daad68cce5b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aea731dd_d7c954a8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000899
      },
      "writtenOn": "2022-12-01T09:47:39Z",
      "side": 1,
      "message": "here are my test result:\n  without this revert patch:\nbrian@brian-VirtualBox:~$ ipmitool -I lanplus -H 192.168.56.199 -C 17 -U root -P 0penBmc0 session info all\nsession handle                : 1\nslot count                    : 60\nactive sessions               : 1\nuser id                       : 1\nprivilege level               : ADMINISTRATOR\nsession type                  : IPMIv2/RMCP+\nchannel number                : 0x01\nconsole ip                    : 192.168.56.105\nconsole mac                   : 00:00:00:00:00:00\nconsole port                  : 49067\n\nsession handle                : 2\nslot count                    : 60\nactive sessions               : 2\nuser id                       : 1\nprivilege level               : ADMINISTRATOR\nsession type                  : IPMIv2/RMCP+\nchannel number                : 0x01\nconsole ip                    : 192.168.56.105\nconsole mac                   : 00:00:00:00:00:00\nconsole port                  : 56341\n\n  with this revert patch:\nbrian@brian-VirtualBox:~$ ipmitool -I lanplus -H 192.168.56.199 -C 17 -U root -P 0penBmc0 session info all\nsession handle                : 1\nslot count                    : 60\nactive sessions               : 2\nuser id                       : 1\nprivilege level               : ADMINISTRATOR\nsession type                  : IPMIv2/RMCP+\nchannel number                : 0x01\nconsole ip                    : 192.168.56.105\nconsole mac                   : 00:00:00:00:00:00\nconsole port                  : 60575\n\nsession handle                : 1\nslot count                    : 60\nactive sessions               : 2\nuser id                       : 1\nprivilege level               : ADMINISTRATOR\nsession type                  : IPMIv2/RMCP+\nchannel number                : 0x01\nconsole ip                    : 192.168.56.105\nconsole mac                   : 00:00:00:00:00:00\nconsole port                  : 38433\n\nEcho result seems exist issue.\nI think provide a good patch to fix them is better than leave the known issue again.",
      "parentUuid": "f9d6dc58_acace6a2",
      "revId": "522882304d1baaa70d677a4f09d45daad68cce5b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d6d8571b_89b61ba5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000278
      },
      "writtenOn": "2022-12-01T14:43:09Z",
      "side": 1,
      "message": "Brian,\nWill you explicitly describe what behavior you consider to be incorrect?\nI do not understand what issue you were trying to solve.\nI also do not understand which example has your \u0027break;\u0027 exit in place.\n\nYour commit was causing an issue with the Get Session Info Command (App 0x3d).\nIPMI response byte 4 has to return the count of active sessions on the channel.\nEach \u0027SOL\u0027, \u0027Shell\u0027, or long running IPMI command (get sensors) invocation on the channel must increment the count reported in Byte 4.\n\nThe \u0027break;\u0027 entry causes the loop over the session entries on D-Bus to be short-circuited on the first match, causing Byte 4 to always report 1. This is incorrect behavior.\n\nPlease be more specific in describing the issue this commit was designed to resolve.",
      "parentUuid": "aea731dd_d7c954a8",
      "revId": "522882304d1baaa70d677a4f09d45daad68cce5b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b418399d_a0f7bc52",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000899
      },
      "writtenOn": "2022-12-02T00:35:14Z",
      "side": 1,
      "message": "Please check the session handle value which ipmi session info return.\nEach session should get its session handle, different session get same session handle is not reasonalbe.",
      "parentUuid": "d6d8571b_89b61ba5",
      "revId": "522882304d1baaa70d677a4f09d45daad68cce5b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a44056f3_d6aa58ff",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000278
      },
      "writtenOn": "2022-12-05T15:11:24Z",
      "side": 1,
      "message": "Brian, Please review https://gerrit.openbmc.org/c/openbmc/phosphor-host-ipmid/+/59082 where I have submitted a code change that supports both the session count, and the display of session IDs.",
      "revId": "522882304d1baaa70d677a4f09d45daad68cce5b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7671a1be_31f6cddf",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000278
      },
      "writtenOn": "2022-12-09T21:17:48Z",
      "side": 1,
      "message": "This can now be abandoned in favor of:\nhttps://gerrit.openbmc.org/c/openbmc/phosphor-host-ipmid/+/59082\nwhich has merged.",
      "revId": "522882304d1baaa70d677a4f09d45daad68cce5b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}