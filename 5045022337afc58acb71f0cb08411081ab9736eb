{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "21303b81_9167ab78",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-22T00:07:33Z",
      "side": 1,
      "message": "I read the above, and I\u0027m not understanding the problem.  ipmitool fru write 0 is going to completely replace the fru.  By design, it is buffered in ipmid such that it can be reverted in the case where an incorrectly formatted FRU is written.  Given the FRU is being completely replaced, I\u0027m not understanding how the temporary difference between what IPMI sees and what FruDevice sees is important?\n\n\nCan you please add some more details, including the actual user use case that this is preventing from working?\n\nPlease answer in your commit message.",
      "range": {
        "startLine": 10,
        "startChar": 57,
        "endLine": 12,
        "endChar": 55
      },
      "revId": "5045022337afc58acb71f0cb08411081ab9736eb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "04eb52a0_4f620faf",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1001198
      },
      "writtenOn": "2021-12-27T02:28:17Z",
      "side": 1,
      "message": "I updated the expect and actual results of 2 of commands. Please check again.",
      "parentUuid": "21303b81_9167ab78",
      "range": {
        "startLine": 10,
        "startChar": 57,
        "endLine": 12,
        "endChar": 55
      },
      "revId": "5045022337afc58acb71f0cb08411081ab9736eb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "69fa7c5d_eea4bf3c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-27T03:25:58Z",
      "side": 1,
      "message": "I\u0027ve read it, there\u0027s still not quite enough detail.  Also, the \"expect\" includes a non-user facing interface, so I\u0027m not really sure how that helps.",
      "parentUuid": "04eb52a0_4f620faf",
      "range": {
        "startLine": 10,
        "startChar": 57,
        "endLine": 12,
        "endChar": 55
      },
      "revId": "5045022337afc58acb71f0cb08411081ab9736eb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9694132e_86f9d1bb",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1001198
      },
      "writtenOn": "2021-12-29T14:46:36Z",
      "side": 1,
      "message": "I updated the result of \"expect\": it will return old FRU data due to writing fails.",
      "parentUuid": "69fa7c5d_eea4bf3c",
      "range": {
        "startLine": 10,
        "startChar": 57,
        "endLine": 12,
        "endChar": 55
      },
      "revId": "5045022337afc58acb71f0cb08411081ab9736eb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c1ced304_3f87d8af",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-22T00:07:33Z",
      "side": 1,
      "message": "in the ipmitool case, why is this a problem?  It\u0027s going to write the whole FRU at the same time and on the final write, it will be persisted to FRUDevice.",
      "range": {
        "startLine": 14,
        "startChar": 12,
        "endLine": 16,
        "endChar": 3
      },
      "revId": "5045022337afc58acb71f0cb08411081ab9736eb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ca32b560_5d67fb46",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1001198
      },
      "writtenOn": "2021-12-27T02:28:17Z",
      "side": 1,
      "message": "When the written data is incorrect data, it will not be wrote to FRU device. But dbus-sdr stored FruCache as written data. Therefore, when users request to read FRU information as written device ID, dbus-sdr returns FruCache data without reads data via dbus method (in this time, FruCache is including incorrect data).\n\nI updated the content of this part in the commit",
      "parentUuid": "c1ced304_3f87d8af",
      "range": {
        "startLine": 14,
        "startChar": 12,
        "endLine": 16,
        "endChar": 3
      },
      "revId": "5045022337afc58acb71f0cb08411081ab9736eb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cae4a7af_2fe90575",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-27T03:25:58Z",
      "side": 1,
      "message": "\u003e When the written data is incorrect data, it will not be wrote to FRU device. But dbus-sdr stored FruCache as written data. Therefore, when users request to read FRU information as written device ID, dbus-sdr returns FruCache data without reads data via dbus method (in this time, FruCache is including incorrect data).\n\nYes.  It does this because some programs write a block, then immediately read it back to ensure that it was \"written\" correctly.  Because we\u0027re verifying the whole flash contents before anything is written to flash (to avoid the possibility of writing bad data to the flash) it needs to be buffered somewhere.\n\n\u003e \n\u003e I updated the content of this part in the commit",
      "parentUuid": "ca32b560_5d67fb46",
      "range": {
        "startLine": 14,
        "startChar": 12,
        "endLine": 16,
        "endChar": 3
      },
      "revId": "5045022337afc58acb71f0cb08411081ab9736eb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "94c758b2_98efe8c7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1001198
      },
      "writtenOn": "2021-12-29T14:46:36Z",
      "side": 1,
      "message": "I agreed with you that checking previous device ID is right. I update the code to reset last device ID when request writing FRU data as your sugesstion.",
      "parentUuid": "cae4a7af_2fe90575",
      "range": {
        "startLine": 14,
        "startChar": 12,
        "endLine": 16,
        "endChar": 3
      },
      "revId": "5045022337afc58acb71f0cb08411081ab9736eb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cace4ebe_a3262909",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 25,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-22T00:07:33Z",
      "side": 1,
      "message": "I\u0027m all for making this easier, but is writing incorrect FRU data an important use case?  Shouldn\u0027t the user always be writing data thats per the FRU specification?",
      "range": {
        "startLine": 25,
        "startChar": 9,
        "endLine": 25,
        "endChar": 44
      },
      "revId": "5045022337afc58acb71f0cb08411081ab9736eb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "201d998b_3ae45814",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 25,
      "author": {
        "id": 1001198
      },
      "writtenOn": "2021-12-27T02:28:17Z",
      "side": 1,
      "message": "In my opinion, it is better if we can cover all the cases. We can reduce errors from users.",
      "parentUuid": "cace4ebe_a3262909",
      "range": {
        "startLine": 25,
        "startChar": 9,
        "endLine": 25,
        "endChar": 44
      },
      "revId": "5045022337afc58acb71f0cb08411081ab9736eb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6a15ed5c_fbbbed98",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 25,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-27T03:25:58Z",
      "side": 1,
      "message": "We covered this case correctly. When bad FRU data was written, we returned an error.  If programs are hitting this case ever, they need to fix their code to write a proper FRU.\n\nMy point is that this is asking to write bad data to the FRU, and it returned an error correctly.  This is not a common path, and should only occur if client calling code is broken, so I\u0027m trying to understand why the behavior is important.",
      "parentUuid": "201d998b_3ae45814",
      "range": {
        "startLine": 25,
        "startChar": 9,
        "endLine": 25,
        "endChar": 44
      },
      "revId": "5045022337afc58acb71f0cb08411081ab9736eb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e8828e7c_90c7b207",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 25,
      "author": {
        "id": 1001198
      },
      "writtenOn": "2021-12-29T14:46:36Z",
      "side": 1,
      "message": "I agreed with you that users have to update correct FRU data, but in the host-ipmid, I think we have to reset the FRU cache in this case.",
      "parentUuid": "6a15ed5c_fbbbed98",
      "range": {
        "startLine": 25,
        "startChar": 9,
        "endLine": 25,
        "endChar": 44
      },
      "revId": "5045022337afc58acb71f0cb08411081ab9736eb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9dc9c134_a6ad59e8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-22T00:07:33Z",
      "side": 1,
      "message": "The problem here is there are some tools that write the data one piece at a time, and read it back immediately, so it\u0027s expecting to see it written.  If this now returns the data that was previously in the chip, it would break those scripts.",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 29,
        "endChar": 30
      },
      "revId": "5045022337afc58acb71f0cb08411081ab9736eb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "de73d6ab_5d19a6c0",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1000153
      },
      "writtenOn": "2021-12-22T00:13:44Z",
      "side": 1,
      "message": "What did these commands return previously?  Looking at the set of steps, they\u0027re only writing a single FRU, so they should\u0027ve worked.",
      "range": {
        "startLine": 23,
        "startChar": 0,
        "endLine": 29,
        "endChar": 30
      },
      "revId": "5045022337afc58acb71f0cb08411081ab9736eb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c6ce45c5_1e10acfc",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1001198
      },
      "writtenOn": "2021-12-27T02:28:17Z",
      "side": 1,
      "message": "Please find out my reply for 2 above your comments.\nIf written data are incorrect, it will not be wrote to FRU devices. Therefore, the result in step 1 and step 3 have to be the same result.",
      "parentUuid": "de73d6ab_5d19a6c0",
      "range": {
        "startLine": 23,
        "startChar": 0,
        "endLine": 29,
        "endChar": 30
      },
      "revId": "5045022337afc58acb71f0cb08411081ab9736eb",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}